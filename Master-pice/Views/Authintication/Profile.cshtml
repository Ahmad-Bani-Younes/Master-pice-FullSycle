@model Master_pice.Models.User

@{
    ViewData["Title"] = "My Profile";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="styles.css">

@* <h2 class="text-danger">My Profile</h2> *@
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["ErrorMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
<div class="container mt-5">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    @* <h5 class="card-title">Profile</h5> *@
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <a asp-action="Profile" asp-controller="Authintication" style="color:#b43e57;font-size:20px;" class="text-decoration-none">Account Information</a>
                        </li>
                        <li class="list-group-item">
                            <a asp-action="MyOrders" asp-controller="Authintication" style="color:#b43e57;font-size:20px;" class="text-decoration-none">My Orders</a>
                        </li>
                        <li class="list-group-item">
                            <a asp-action="MyWishList" asp-controller="User" style="color:#b43e57;font-size:20px;" class="text-decoration-none">My Wish List</a>
                        </li>
                        <li class="list-group-item">
                            <a asp-action="EditProfile" asp-controller="Authintication" style="color:#b43e57;font-size:20px;" class="text-decoration-none">Edit Profile</a>
                        </li>
                        <li class="list-group-item">
                            <a asp-action="ResetPasswordAfterLogin" asp-controller="Authintication" style="color:#b43e57;font-size:20px;" class="text-decoration-none">Reset Password</a>
                        </li>
                    </ul>
                </div>
            </div>

        </div>

        <!-- Main Content -->
        <div class="col-md-9">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Account Information</h5>
                    <p>Here you can view and edit your account information.</p>

                    <!-- Profile Image -->
                    <div class="text-center mb-4">
                        @if (!string.IsNullOrWhiteSpace(Model.ProfileImage))
                        {
                            <img src="~/uploads/@Model.ProfileImage" class="img-fluid rounded-circle" alt="Profile Image" style="width: 150px; height: 150px; object-fit: cover;" />
                        }
                        else
                        {
                            <i class="fas fa-user-circle" style="font-size: 150px; color: #007bff;"></i>
                        }
                    </div>

                    <form>
                        <div class="mb-3">
                            <label for="name" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="name" value="@Model.FullName" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" value="@Model.Email" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone</label>
                            <input type="tel" class="form-control" id="phone" value="@Model.Phone" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="userType" class="form-label">User Type</label>
                            <input type="text" class="form-control" id="userType" value="@Model.UserType" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="region" class="form-label">Region</label>
                            <input type="text" class="form-control" id="region" value="@Model.Region" readonly>
                        </div>

                        <div class="mb-3">
                            <label for="joined" class="form-label">Joined At</label>
                            <input type="text" class="form-control" id="joined" value="@Model.CreatedAt.ToString("yyyy-MM-dd")" readonly>
                        </div>
                       
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    setTimeout(function () {
        var success = document.getElementById('successMessage');
        var error = document.getElementById('errorMessage');
        if (success) {
            success.classList.remove('show');
            success.classList.add('hide');
        }
        if (error) {
            error.classList.remove('show');
            error.classList.add('hide');
        }
    }, 3000); // 3000 ميلي ثانية = 3 ثواني
</script>